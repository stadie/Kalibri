Index: JetMETObjects/Makefile
===================================================================
RCS file: /cvs_server/repositories/CMSSW/CMSSW/CondFormats/JetMETObjects/Makefile,v
retrieving revision 1.6
diff -r1.6 Makefile
100c100
< 	-c -I$(TMPDIR) \
---
> 	-c -DSTANDALONE -I$(TMPDIR) \
Index: JetMETObjects/interface/FactorizedJetCorrector.h
===================================================================
RCS file: /cvs_server/repositories/CMSSW/CMSSW/CondFormats/JetMETObjects/interface/FactorizedJetCorrector.h,v
retrieving revision 1.6
diff -r1.6 FactorizedJetCorrector.h
18c18
<     enum VarTypes   {kJetPt,kJetEta,kJetPhi,kJetE,kJetEMF,kRelLepPt,kPtRel,kNPV};
---
>     enum VarTypes   {kJetPt,kJetEta,kJetPhi,kJetE,kJetEMF,kRelLepPt,kPtRel,kNPV,kJW};
25,32c25,34
<     void setJetEta      (float fEta);
<     void setJetPt       (float fPt); 
<     void setJetE        (float fE);
<     void setJetPhi      (float fE);
<     void setJetEMF      (float fEMF); 
<     void setLepPx       (float fLepPx);
<     void setLepPy       (float fLepPy);
<     void setLepPz       (float fLepPz);
---
>     void setJetEta          (float fEta);
>     void setJetPt           (float fPt); 
>     void setJetE            (float fE);
>     void setJetPhi          (float fE);
>     void setJetEMF          (float fEMF); 
>     void setJetEtaEtaMoment (float fEtaEta); 
>     void setJetPhiPhiMoment (float fPhiPhi);  
>     void setLepPx           (float fLepPx);
>     void setLepPy           (float fLepPy);
>     void setLepPz           (float fLepPz);
58c60,62
<     float mJetEMF; 
---
>     float mJetEMF;
>     float mJetEtaEta;
>     float mJetPhiPhi;
68c72,74
<     bool  mIsJetEMFset; 
---
>     bool  mIsJetEMFset;
>     bool  mIsJetEtaEtaset;
>     bool  mIsJetPhiPhiset;
Index: JetMETObjects/interface/JetCorrectorParameters.h
===================================================================
RCS file: /cvs_server/repositories/CMSSW/CMSSW/CondFormats/JetMETObjects/interface/JetCorrectorParameters.h,v
retrieving revision 1.13
diff -r1.13 JetCorrectorParameters.h
14c14,17
< #include "FWCore/Utilities/interface/Exception.h"
---
> 
> #ifndef STANDALONE
>   #include "FWCore/Utilities/interface/Exception.h"
> #endif
Index: JetMETObjects/src/FactorizedJetCorrector.cc
===================================================================
RCS file: /cvs_server/repositories/CMSSW/CMSSW/CondFormats/JetMETObjects/src/FactorizedJetCorrector.cc,v
retrieving revision 1.13
diff -r1.13 FactorizedJetCorrector.cc
22,29c22,31
<   mJetEta = -9999;
<   mJetPt  = -9999;
<   mJetPhi = -9999;
<   mJetE   = -9999;
<   mJetEMF = -9999;
<   mLepPx  = -9999;
<   mLepPy  = -9999;
<   mLepPz  = -9999;
---
>   mJetEta    = -9999;
>   mJetPt     = -9999;
>   mJetPhi    = -9999;
>   mJetE      = -9999;
>   mJetEMF    = -9999;
>   mJetEtaEta = -9999;
>   mJetPhiPhi = -9999;
>   mLepPx     = -9999;
>   mLepPy     = -9999;
>   mLepPz     = -9999;
35a38,39
>   mIsJetEtaEtaset   = false;
>   mIsJetPhiPhiset   = false;
48,55c52,61
<   mJetEta = -9999;
<   mJetPt  = -9999;
<   mJetPhi = -9999;
<   mJetE   = -9999;
<   mJetEMF = -9999;
<   mLepPx  = -9999;
<   mLepPy  = -9999;
<   mLepPz  = -9999;
---
>   mJetEta    = -9999;
>   mJetPt     = -9999;
>   mJetPhi    = -9999;
>   mJetE      = -9999;
>   mJetEMF    = -9999;
>   mJetEtaEta = -9999;
>   mJetPhiPhi = -9999;
>   mLepPx     = -9999;
>   mLepPy     = -9999;
>   mLepPz     = -9999;
63c69,71
<   mIsJetEMFset      = false;
---
>   mIsJetEMFset      = false;  
>   mIsJetEtaEtaset   = false;
>   mIsJetPhiPhiset   = false;
75,82c83,92
<   mJetEta = -9999;
<   mJetPt  = -9999;
<   mJetPhi = -9999;
<   mJetE   = -9999;
<   mJetEMF = -9999;
<   mLepPx  = -9999;
<   mLepPy  = -9999;
<   mLepPz  = -9999;
---
>   mJetEta    = -9999;
>   mJetPt     = -9999;
>   mJetPhi    = -9999;
>   mJetE      = -9999;
>   mJetEMF    = -9999;
>   mJetEtaEta = -9999;
>   mJetPhiPhi = -9999;
>   mLepPx     = -9999;
>   mLepPy     = -9999;
>   mLepPz     = -9999;
90c100,102
<   mIsJetEMFset      = false;
---
>   mIsJetEMFset      = false;  
>   mIsJetEtaEtaset   = false;
>   mIsJetPhiPhiset   = false;
105a118,119
>       else if (ss == "L4JW")
>         mLevels.push_back(kL4);
144a159,160
>       else if (tmp[i] == "L4JW")
>         mLevels.push_back(kL4);
208c224,226
< 	 result.push_back(kJetEMF);
---
> 	 result.push_back(kJetEMF); 
>       else if (ss=="JetWidth")
> 	 result.push_back(kJW);
349,357c367,377
<   mIsJetEset   = false;
<   mIsJetPtset  = false;
<   mIsJetPhiset = false;
<   mIsJetEtaset = false;
<   mIsJetEMFset = false;
<   mIsLepPxset  = false;
<   mIsLepPyset  = false;
<   mIsLepPzset  = false;
<   mAddLepToJet = false;
---
>   mIsJetEset      = false;
>   mIsJetPtset     = false;
>   mIsJetPhiset    = false;
>   mIsJetEtaset    = false;
>   mIsJetEMFset    = false;
>   mIsJetEtaEtaset = false;
>   mIsJetPhiPhiset = false;
>   mIsLepPxset     = false;
>   mIsLepPyset     = false;
>   mIsLepPzset     = false;
>   mAddLepToJet    = false;
395c415
<             handleError("FactorizedJetCorrector","jet E is not set");
---
> 	    handleError("FactorizedJetCorrector","jet E is not set");
396a417,422
>         }   
>       else if (fVarTypes[i] == kJW) 
>         {
>           if (!mIsJetEtaEtaset || !mIsJetPhiPhiset) 
>             handleError("FactorizedJetCorrector","jet phiphi- or etaetamoments are not set");
>           result.push_back(0.5*(mJetEtaEta+mJetPhiPhi));
500a527,538
> void FactorizedJetCorrector::setJetEtaEtaMoment(float fEtaEta)
> {
>   mJetEtaEta = fEtaEta;
>   mIsJetEtaEtaset = true;
> }
> //------------------------------------------------------------------------
> void FactorizedJetCorrector::setJetPhiPhiMoment(float fPhiPhi)
> {
>   mJetPhiPhi = fPhiPhi;
>   mIsJetPhiPhiset = true;
> }
> //------------------------------------------------------------------------
Index: JetMETObjects/src/JetCorrectorParameters.cc
===================================================================
RCS file: /cvs_server/repositories/CMSSW/CMSSW/CondFormats/JetMETObjects/src/JetCorrectorParameters.cc,v
retrieving revision 1.18
diff -r1.18 JetCorrectorParameters.cc
447a448
> #ifndef STANDALONE
448a450,453
> #else
>   std::cerr << " cannot find key " << static_cast<int>(k) << std::endl;
>   throw "InvalidInput";
> #endif
528a534
> #ifndef STANDALONE
529a536,540
> #else 
>   std::cerr  << " Cannot find label " << label << std::endl;
>   throw "InvalidInput";
> #endif
>   
537,540c548,553
< #include "FWCore/Utilities/interface/typelookup.h"
<  
< TYPELOOKUP_DATA_REG(JetCorrectorParameters);
< TYPELOOKUP_DATA_REG(JetCorrectorParametersCollection);
---
> 
> #ifndef STANDALONE
>   #include "FWCore/Utilities/interface/typelookup.h"
>   TYPELOOKUP_DATA_REG(JetCorrectorParameters);
>   TYPELOOKUP_DATA_REG(JetCorrectorParametersCollection);
> #endif
