Index: JetMETObjects/Makefile
===================================================================
RCS file: /cvs_server/repositories/CMSSW/CMSSW/CondFormats/JetMETObjects/Makefile,v
retrieving revision 1.6
diff -r1.6 Makefile
100c100
< 	-c -I$(TMPDIR) \
---
> 	-c -DSTANDALONE -I$(TMPDIR) \
Index: JetMETObjects/interface/FactorizedJetCorrector.h
===================================================================
RCS file: /cvs_server/repositories/CMSSW/CMSSW/CondFormats/JetMETObjects/interface/FactorizedJetCorrector.h,v
retrieving revision 1.6
diff -r1.6 FactorizedJetCorrector.h
18c18
<     enum VarTypes   {kJetPt,kJetEta,kJetPhi,kJetE,kJetEMF,kRelLepPt,kPtRel,kNPV,kJetA,kRho};
---
>   enum VarTypes   {kJetPt,kJetEta,kJetPhi,kJetE,kJetEMF,kRelLepPt,kPtRel,kNPV,kJetA,kRho,kJW};
29c29,31
<     void setJetEMF      (float fEMF); 
---
>     void setJetEMF      (float fEMF);
>     void setJetEtaEtaMoment (float fEtaEta); 
>     void setJetPhiPhiMoment (float fPhiPhi);   
60c62,64
<     float mJetEMF; 
---
>     float mJetEMF;
>     float mJetEtaEta;
>     float mJetPhiPhi;
72c76,78
<     bool  mIsJetEMFset; 
---
>     bool  mIsJetEMFset;
>     bool  mIsJetEtaEtaset;
>     bool  mIsJetPhiPhiset;
Index: JetMETObjects/interface/JetCorrectorParameters.h
===================================================================
RCS file: /cvs_server/repositories/CMSSW/CMSSW/CondFormats/JetMETObjects/interface/JetCorrectorParameters.h,v
retrieving revision 1.13
diff -r1.13 JetCorrectorParameters.h
14c14,17
< #include "FWCore/Utilities/interface/Exception.h"
---
> 
> #ifndef STANDALONE
>   #include "FWCore/Utilities/interface/Exception.h"
> #endif
Index: JetMETObjects/src/FactorizedJetCorrector.cc
===================================================================
RCS file: /cvs_server/repositories/CMSSW/CMSSW/CondFormats/JetMETObjects/src/FactorizedJetCorrector.cc,v
retrieving revision 1.13
diff -r1.13 FactorizedJetCorrector.cc
28a29,30
>   mJetEtaEta = -9999;
>   mJetPhiPhi = -9999;
35a38,39
>   mIsJetEtaEtaset   = false;
>   mIsJetPhiPhiset   = false;
41a46,47
>   mIsJetEtaEtaset   = false;
>   mIsJetPhiPhiset   = false;
58a65,66
>   mJetEtaEta = -9999;
>   mJetPhiPhi = -9999;
69c77,79
<   mIsJetEMFset      = false;
---
>   mIsJetEMFset      = false;  
>   mIsJetEtaEtaset   = false;
>   mIsJetPhiPhiset   = false;
71c81,83
<   mIsRhoset         = false; 
---
>   mIsRhoset         = false;
>   mIsJetEtaEtaset   = false;
>   mIsJetPhiPhiset   = false; 
89c101,103
<   mRho    = -9999;
---
>   mRho    = -9999; 
>   mJetEtaEta = -9999;
>   mJetPhiPhi = -9999;
100c114,116
<   mIsJetEMFset      = false;
---
>   mIsJetEMFset      = false;  
>   mIsJetEtaEtaset   = false;
>   mIsJetPhiPhiset   = false;
102a119,120
>   mIsJetEtaEtaset   = false;
>   mIsJetPhiPhiset   = false;
123a142,143
>       else if (ss == "L4JW")
>         mLevels.push_back(kL4);
164c184,186
<         mLevels.push_back(kL6);
---
> 	mLevels.push_back(kL6);
>       else if (tmp[i] == "L4JW")
>         mLevels.push_back(kL4);
224c246,248
< 	 result.push_back(kJetEMF);
---
> 	 result.push_back(kJetEMF); 
>       else if (ss=="JetWidth")
> 	 result.push_back(kJW);
417c441
<             handleError("FactorizedJetCorrector","jet E is not set");
---
> 	    handleError("FactorizedJetCorrector","jet E is not set");
437a462,467
>       else if (fVarTypes[i] == kJW) 
> 	{
> 	  if (!mIsJetEtaEtaset || !mIsJetPhiPhiset) 
> 	    handleError("FactorizedJetCorrector","jet phiphi- or etaetamoments are not set");
> 	  result.push_back(0.5*(mJetEtaEta+mJetPhiPhi));
> 	}
517a548,560
> //------------------------------------------------------------------------
> void FactorizedJetCorrector::setJetEtaEtaMoment(float fEtaEta)
> {
>   mJetEtaEta = fEtaEta;
>   mIsJetEtaEtaset = true;
> }
> //------------------------------------------------------------------------
> void FactorizedJetCorrector::setJetPhiPhiMoment(float fPhiPhi)
> {
>   mJetPhiPhi = fPhiPhi;
>   mIsJetPhiPhiset = true;
> }
> //------------------------------------------------------------------------
Index: JetMETObjects/src/JetCorrectorParameters.cc
===================================================================
RCS file: /cvs_server/repositories/CMSSW/CMSSW/CondFormats/JetMETObjects/src/JetCorrectorParameters.cc,v
retrieving revision 1.18
diff -r1.18 JetCorrectorParameters.cc
448a449
> #ifndef STANDALONE
449a451,454
> #else
>   std::cerr << " cannot find key " << static_cast<int>(k) << std::endl;
>   throw "InvalidInput";
> #endif
528a534
> #ifndef STANDALONE
531c537,540
< 
---
> #else 
>   std::cerr  << " Cannot find label " << label << std::endl;
>   throw "InvalidInput";
> #endif
538,541c547,552
< #include "FWCore/Utilities/interface/typelookup.h"
<  
< TYPELOOKUP_DATA_REG(JetCorrectorParameters);
< TYPELOOKUP_DATA_REG(JetCorrectorParametersCollection);
---
> 
> #ifndef STANDALONE
>   #include "FWCore/Utilities/interface/typelookup.h"
>   TYPELOOKUP_DATA_REG(JetCorrectorParameters);
>   TYPELOOKUP_DATA_REG(JetCorrectorParametersCollection);
> #endif

