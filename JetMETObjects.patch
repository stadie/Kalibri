Index: JetMETObjects/Makefile
===================================================================
RCS file: /cvs_server/repositories/CMSSW/CMSSW/CondFormats/JetMETObjects/Makefile,v
retrieving revision 1.6
diff -r1.6 Makefile
100c100
< 	-c -I$(TMPDIR) \
---
> 	-c -DSTANDALONE -I$(TMPDIR) \
Index: JetMETObjects/interface/FactorizedJetCorrector.h
===================================================================
RCS file: /cvs_server/repositories/CMSSW/CMSSW/CondFormats/JetMETObjects/interface/FactorizedJetCorrector.h,v
retrieving revision 1.11
diff -r1.11 FactorizedJetCorrector.h
19c19
<     enum VarTypes   {kJetPt,kJetEta,kJetPhi,kJetE,kJetEMF,kRelLepPt,kPtRel,kNPV,kJetA,kRho,kJPTrawE,kJPTrawEt,kJPTrawPt,kJPTrawEta,kJPTrawOff};
---
>     enum VarTypes   {kJetPt,kJetEta,kJetPhi,kJetE,kJetEMF,kRelLepPt,kPtRel,kNPV,kJetA,kRho,kJPTrawE,kJPTrawEt,kJPTrawPt,kJPTrawEta,kJPTrawOff,kJW};
20a21
> 
30c31,33
<     void setJetEMF      (float fEMF); 
---
>     void setJetEMF      (float fEMF);
>     void setJetEtaEtaMoment (float fEtaEta); 
>     void setJetPhiPhiMoment (float fPhiPhi);   
63c66,68
<     float mJetEMF; 
---
>     float mJetEMF;
>     float mJetEtaEta;
>     float mJetPhiPhi;
80c85,87
<     bool  mIsJetEMFset; 
---
>     bool  mIsJetEMFset;
>     bool  mIsJetEtaEtaset;
>     bool  mIsJetPhiPhiset;
Index: JetMETObjects/interface/JetCorrectorParameters.h
===================================================================
RCS file: /cvs_server/repositories/CMSSW/CMSSW/CondFormats/JetMETObjects/interface/JetCorrectorParameters.h,v
retrieving revision 1.14
diff -r1.14 JetCorrectorParameters.h
14c14,17
< #include "FWCore/Utilities/interface/Exception.h"
---
> 
> #ifndef STANDALONE
>   #include "FWCore/Utilities/interface/Exception.h"
> #endif
Index: JetMETObjects/src/FactorizedJetCorrector.cc
===================================================================
RCS file: /cvs_server/repositories/CMSSW/CMSSW/CondFormats/JetMETObjects/src/FactorizedJetCorrector.cc,v
retrieving revision 1.19
diff -r1.19 FactorizedJetCorrector.cc
22,32c22,34
<   mJetEta  = -9999;
<   mJetPt   = -9999;
<   mJetPhi  = -9999;
<   mJetE    = -9999;
<   mJetEMF  = -9999;
<   mJetA    = -9999;
<   mRho     = -9999;
<   mLepPx   = -9999;
<   mLepPy   = -9999;
<   mLepPz   = -9999;
<   mNPV     = -9999;
---
>   mJetEta = -9999;
>   mJetPt  = -9999;
>   mJetPhi = -9999;
>   mJetE   = -9999;
>   mJetEMF = -9999;
>   mJetA   = -9999;
>   mRho    = -9999;
>   mJetEtaEta = -9999;
>   mJetPhiPhi = -9999;
>   mLepPx  = -9999;
>   mLepPy  = -9999;
>   mLepPz  = -9999;
>   mNPV    = -9999; 
37a40
> 
40a44,45
>   mIsJetEtaEtaset   = false;
>   mIsJetPhiPhiset   = false;
46a52,53
>   mIsJetEtaEtaset   = false;
>   mIsJetPhiPhiset   = false;
65a73,74
>   mJetEtaEta = -9999;
>   mJetPhiPhi = -9999;
81c90,92
<   mIsJetEMFset      = false;
---
>   mIsJetEMFset      = false;  
>   mIsJetEtaEtaset   = false;
>   mIsJetPhiPhiset   = false;
83a95,96
>   mIsJetEtaEtaset   = false;
>   mIsJetPhiPhiset   = false; 
103c116,118
<   mRho    = -9999;
---
>   mRho    = -9999; 
>   mJetEtaEta = -9999;
>   mJetPhiPhi = -9999;
119c134,136
<   mIsJetEMFset      = false;
---
>   mIsJetEMFset      = false;  
>   mIsJetEtaEtaset   = false;
>   mIsJetPhiPhiset   = false;
121a139,140
>   mIsJetEtaEtaset   = false;
>   mIsJetPhiPhiset   = false;
127a147
> 
138a159,160
>       mLevels.push_back(kL4); 
>     else if (ss == "L4JW")
168a191
> 
179c202,204
<       mLevels.push_back(kL4);
---
>       mLevels.push_back(kL4);  
>     else if (tmp[i] == "L4JW")
>         mLevels.push_back(kL4);
227a253
> 
241c267,269
<       result.push_back(kRelLepPt);
---
>       result.push_back(kRelLepPt); 
>     else if (ss=="JetWidth")
>       result.push_back(kJW);
417a446
> 
448a478,483
>     else if (fVarTypes[i] == kJW) 
>       {
> 	if (!mIsJetEtaEtaset || !mIsJetPhiPhiset) 
> 	  handleError("FactorizedJetCorrector","jet phiphi- or etaetamoments are not set");
> 	result.push_back(0.5*(mJetEtaEta+mJetPhiPhi));
>       }
559a595,607
> //------------------------------------------------------------------------
> void FactorizedJetCorrector::setJetEtaEtaMoment(float fEtaEta)
> {
>   mJetEtaEta = fEtaEta;
>   mIsJetEtaEtaset = true;
> }
> //------------------------------------------------------------------------
> void FactorizedJetCorrector::setJetPhiPhiMoment(float fPhiPhi)
> {
>   mJetPhiPhi = fPhiPhi;
>   mIsJetPhiPhiset = true;
> }
> //------------------------------------------------------------------------
Index: JetMETObjects/src/JetCorrectorParameters.cc
===================================================================
RCS file: /cvs_server/repositories/CMSSW/CMSSW/CondFormats/JetMETObjects/src/JetCorrectorParameters.cc,v
retrieving revision 1.19
diff -r1.19 JetCorrectorParameters.cc
448a449
> #ifndef STANDALONE
449a451,454
> #else
>   std::cerr << " cannot find key " << static_cast<int>(k) << std::endl;
>   throw "InvalidInput";
> #endif
528a534
> #ifndef STANDALONE
531c537,540
< 
---
> #else 
>   std::cerr  << " Cannot find label " << label << std::endl;
>   throw "InvalidInput";
> #endif
538,541c547,552
< #include "FWCore/Utilities/interface/typelookup.h"
<  
< TYPELOOKUP_DATA_REG(JetCorrectorParameters);
< TYPELOOKUP_DATA_REG(JetCorrectorParametersCollection);
---
> 
> #ifndef STANDALONE
>   #include "FWCore/Utilities/interface/typelookup.h"
>   TYPELOOKUP_DATA_REG(JetCorrectorParameters);
>   TYPELOOKUP_DATA_REG(JetCorrectorParametersCollection);
> #endif
